> Java by 유종원
> 수정 및 배포, 상업적 사용을 금지합니다.

<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [원형 큐 (Circular Queue)](#원형-큐-circular-queue)
    - [개요](#개요)
    - [배열을 순환하는 형태로 사용하는 방법](#배열을-순환하는-형태로-사용하는-방법)
    - [값을 추가하는 방법](#값을-추가하는-방법)
    - [값을 제거하는 방법](#값을-제거하는-방법)
    - [순환하는 형태로 값을 추가하는 방법](#순환하는-형태로-값을-추가하는-방법)
    - [구현하기](#구현하기)
    - [구현할 메서드 목록](#구현할-메서드-목록)

<!-- /code_chunk_output -->

# 원형 큐 (Circular Queue)
값을 저장하는 방식으로 배열을 사용하고, 배열을 순환하는 형태로 사용하는 큐를 원형 큐라 한다.

### 개요
`CircularQueue`라는 이름의 클래스를 만드는 것이 목표다. 다음은 클래스의 주요 메서드다.

|메서드|설명|
|-|-|
|push(value)|최상단에 value 추가|
|pop()|최하단의 값을 제거하고 반환|
|print()|값들을 순서대로 출력|

사용법과 동작 방식은 다음과 같다.
```py
q = CircularQueue();  q.print()
q.push(1);            q.print()
q.push(2);            q.print()
q.push(3);            q.print()
q.push(4);            q.print()
q.push(5);            q.print()
q.pop();              q.print()
q.pop();              q.print()
q.pop();              q.print()
q.pop();              q.print()
q.pop();              q.print()
```
* 실행 결과
```
[]
[1]
[1, 2]
[1, 2, 3]
[1, 2, 3, 4]
[1, 2, 3, 4, 5]
[2, 3, 4, 5]
[3, 4, 5]
[4, 5]
[5]
[]

```

### 배열을 순환하는 형태로 사용하는 방법
원형 큐는 저장 공간으로 배열을 순환하는 형태로 사용한다. 순환하는 형태로 사용한다는 것은 단순히 배열의 크기로 나머지 연산을 해서 해당 인덱스에 값을 저장하는 방식을 말한다. 다음과 같이 숫자 `1` `2` `3` `4`가 인덱스 `0`부터 순서대로 저장되어 있는 크기가 `5`인 배열이 있다.
```py
[1, 2, 3, 4, _]
```
위 배열의 값들을 오른쪽으로 순환하도록 한 칸씩 밀면 다음과 같다.
```py
[_, 1, 2, 3, 4]
```
같은 방식으로 처음과 같아질 때까지 오른쪽으로 순환하도록 한 칸씩 밀면 다음과 같다.
```py
[4, _, 1, 2, 3]
[3, 4, _, 1, 2]
[2, 3, 4, _, 1]
[1, 2, 3, 4, _]
```
배열을 순환하는 형태로 사용하기 위해 `size`, `length`, `front`, `rear`라는 이름의 변수들을 사용한다. `size`는 배열의 크기를 관리하고, `length`는 값의 개수를 관리하고, `front`는 첫 번째 값의 인덱스를 관리하고, `rear`는 마지막 값의 인덱스를 관리한다. 초기 배열의 크기는 `1`이므로 `size`의 값 또한 `1`이다.
|변수명|초기값|설명|
|-|:-:|-|
|values|[_]|배열|
|size|1|배열의 크기|
|length|0|보관중인 값의 개수|
|front|0|첫 번째 값의 인덱스|
|rear|1|마지막 값의 인덱스|

### 값을 추가하는 방법
값을 추가할 때는 마지막 값의 인덱스를 관리하는 `rear`를 1만큼 증가시키고, 증가된 위치에 값을 저장한다. 그리고 보관중인 값의 개수를 관리하는 `length` 또한 1만큼 증가시킨다. 배열에 새로운 값을 저장할 공간이 부족하면, 현재 배열의 두 배 크기의 임시 배열을 만든다. 임시 배열에 원본 배열의 값들을 복사해 기존 값들을 유지하고, 임시 배열을 원본 배열로 사용한다.
```py
[_]           # size = 1, length = 0, front = 0, rear = 0, 초기 상태
[1]           # size = 1, length = 1, front = 0, rear = 0, 숫자 1을 추가했다.
[1, 2]        # size = 2, length = 2, front = 0, rear = 1, 숫자 2를 추가했다.
[1, 2, 3, _]  # size = 4, length = 3, front = 0, rear = 2, 숫자 3을 추가했다.
[1, 2, 3, 4]  # size = 4, length = 4, front = 0, rear = 3, 숫자 4를 추가했다.
```

### 값을 제거하는 방법
값을 제거할 때는 첫 번째 값의 인덱스를 관리하는 `front`를 1만큼 증가시킨다. 그리고 보관중인 값의 개수를 관리하는 `length` 또한 1만큼 증가시킨다.
```py
[1, 2, 3, 4]  # size = 4, length = 4, front = 0, rear = 3, 초기 상태
[1, 2, 3, 4]  # size = 4, length = 3, front = 1, rear = 3, 숫자 1을 제거했다.
[1, 2, 3, 4]  # size = 4, length = 2, front = 2, rear = 3, 숫자 2를 제거했다.
[1, 2, 3, 4]  # size = 4, length = 1, front = 3, rear = 3, 숫자 3을 제거했다.
```

### 순환하는 형태로 값을 추가하는 방법
값을 추가하기 위해 1만큼 증가시킨 `rear`의 값이 배열의 범위를 벗어나면 배열의 크기로 나머지 연산을 한다.
```py
[1, 2, 3, 4]              # size = 4, length = 1, front = 3, rear = 3, 초기 상태
[5, 2, 3, 4]              # size = 4, length = 2, front = 3, rear = 0, 숫자 5를 추가했다.
[5, 6, 3, 4]              # size = 4, length = 3, front = 3, rear = 1, 숫자 6을 추가했다.
[5, 6, 7, 4]              # size = 4, length = 4, front = 3, rear = 2, 숫자 7을 추가했다.
[4, 5, 6, 7, 8, _, _, _]  # size = 8, length = 5, front = 0, rear = 4, 숫자 8을 추가했다.
```

### 구현하기
```java
class CircularQueue {
  int[] values = new int[1];
  int size = 1;
  int front = 0;
  int rear = 0;
  int length = 0;

  public static void main(String[] args) {
    var q = new CircularQueue();
  }
}
```

### 구현할 메서드 목록
클래스에 다음 메서드들을 정의하고 기능을 구현하자.
|메서드|동작|
|-|-|
|push(value)|최상단에 value 추가|
|pop()|최하단의 값을 제거하고 반환|
|peek()|최하단의 값을 반환|
|empty()|값이 있는지 여부 반환|
|length()|값의 개수 반환|
|clear()|리스트 초기화|
|print()|값들을 순서대로 출력|
